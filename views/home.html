<h1>Welcome {{currentUser.local.username || currentUser.google.name}} <img id='profilePic' width='150' ng-src='{{currentUser.local.profilePic}}'/></h1>
<!--<button type="button" class="btn btn-primary" ng-click='showAllUsers(true)'><span ng-show='!showUsers'>show users</span><span ng-show='showUsers'>hide users</span></button><br></br>-->
<table id="users" class='view-table'  ng-show='showUsers'>
	<div ng-click='showAllUsers(true)' class='tab' id='usersTab'>users</div>
	<div ng-click='showAllScenes()' class='tab' id='scenesTab'>scenes</div>	  
	<tr>
		<th>profile pic</th>
		<th>username</th>
		<th>email</th>
		<th colspan='3'>
            <div class="input-group">
              <input ng-model='searchQuery' type="text" name="q" class="form-control" placeholder="Search...">
              <span class="input-group-btn">
                <button type="submit" name="search" id="search-btn" class="btn btn-flat"><i class="fa fa-search"></i></button>
              </span>
            </div>			
		</th>		
	</tr>
	<tr ng-repeat="user in users | filter:searchQuery" ng-if='user.google.name != currentUser.google.name || user.local.username != currentUser.local.username'>
		<td><img class='table-pic' img width='75' ng-src='{{user.local.profilePic}}'/></td>		
		<td>{{user.google.name || user.local.username}}</td>
		<td>{{user.google.email || user.local.email}}</td>
		<td class='button'><button type="button" class="btn btn-info" ng-click='selectUser(user._id)'>select</button></td>
		<td class='button'><button type="button" class="btn btn-success">update</button></td>
		<td class='button'><button type="button" class="btn btn-danger" ng-click="remove(user._id)">delete</button></td>
	</tr>
</table>

<!--<button id="scenesButton" type="button" class="btn btn-primary" ng-click='showAllScenes()'><span ng-show='!showScenes'>show scenes</span><span ng-show='showScenes'>hide scenes</span></button><br></br>-->
<table id="scenes" class='view-table' style="width:25%" ng-show='showScenes'>
	<tr>
		<th colspan='3'>
			<div ng-model='searchScene' class="input-group" id='userSearch'>
			  <input type="text" name="q" class="form-control" placeholder="Search...">
			  <span class="input-group-btn">
				<button type="submit" name="search" id="search-btn" class="btn btn-flat"><i class="fa fa-search"></i></button>
			  </span>
			</div>			
		</th>	
	</tr>
	<tr>
		<th>username</th>
		<th>name</th>
		<th>thumbnail</th>
	</tr>
	<tr ng-repeat="scene in scenes | filter:searchScene">
		<td ng-click='getSelectedScene(scene._id)' ><img class='table-pic' width='75' ng-src='{{scene.imageUrl}}'/></td>	
		<td>{{userNames[scene.userID]}}</td>
		<td>{{scene.name}}</td>
	</tr>
</table>

<div id='selected_user' ng-show='showUser'>
	<span style='font-weight:bold; font-size: 1.8em;'>{{selectedUser[0].local.username || selectedUser[0].google.name}}</span><br>
	<img width='200' ng-src='{{selectedUser[0].local.profilePic}}'/><br>
	Email: {{selectedUser[0].local.email}}
<button id="selectedUserScenesButton" type="button" class="btn btn-primary" ng-click="getSelectUserScenes(selectedUser[0]._id)"><span ng-show='!showSelectedUserScenes'>see {{selectedUser[0].local.username || selectedUser[0].google.name}}'s scenes</span><span ng-show='showSelectedUserScenes'>hide scenes</span></button><br></br>
<table id="selectedUserTable" style="width:25%" ng-show='showSelectedUserScenes'>
	<tr>
		<th>name</th>
		<th>thumbnail</th>
	</tr>
	<tr ng-repeat="scene in selectedUserScenes">
		<td>{{scene.name}}</td>
		<td ng-click='getSelectedScene(scene._id)'><img width='75' ng-src='{{scene.imageUrl}}'/></td>
	</tr>
</table>
</div>
